<head>
<link href="../style.css" rel="stylesheet" type="text/css">
<link href='http://getbarometer.s3.amazonaws.com/assets/barometer/css/barometer.css' rel="stylesheet" type="text/css">
<script type="text/javascript" src="../barometer.js"></script>
<title>Who's bringing wh.at?</title>
</head>

<template name="event">
    {{> items_container}}
</template>

<template name="items_container">
  <div class='content'>
    {{> item_row_title }}
    {{#each items}}
      {{> item_row}}
    {{/each}}
    <div class="item-row" id="new-item-row">
      <input type="text" class="item-name" id="new-item" placeholder="Add an item" />
    </div>
  </div>
  {{> feedback }}
</template>

<template name="feedback">
  <a id="barometer_tab" onclick="$('#barometer_overlay').show()" href="#">Feedback</a>
  <div id="barometer_overlay" style="display: none;">
    <div id="barometer_main" style="top: 130.95px;">
      <a id="barometer_close" onclick="$('#barometer_overlay').hide()" href="#"></a>
      <div id="overlay_header">
        <a href="http://getbarometer.com">Powered by barometer</a>
      </div>
      <iframe src="http://getbarometer.com/system/feedback_form/hdcXzLh6qfCGyH8KDgyZy" id="barometer_iframe" allowTransparency="true" scrolling="no" frameborder="0" class="loading"></iframe>
    </div>
    <div id="barometer_screen" onclick="$('#barometer_overlay').hide()" style="height: 100%;"></div>
  </div>
</template>

<template name="item_row">
  <li class="item-row">
    <div class="delete"></div>
    <input class="item-name" id="item-name-input" value="{{name}}" />
    <div class="claimers">
    {{#each claimers}}
      <div class="claim-box {{#if is_this_user }}current-user-color button{{/if}}">
        {{ user_name }}
      </div>
    {{/each}}
      <div class="claim-box unclaimed button">+Claim</div>
    </div>
  </li>
</template>

<template name="item_row_title">
  <div class="item-row header">
    <div class="item-name header">
      Wh.at
    </div>
    <div class="claimers">
      <div class="claim-boxes-title">Who's bringing it?</div>
    </div>
    {{> user_summary }}
  </div>
</template>

<template name="user_summary">
  <div class="user-summary">
    You are:
    <input id="user-name" class="claim-box"
           value="{{user_name}}"
           placeholder="What's your name?"/>
  </div>
</template>
